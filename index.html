<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bubble Sort Visualization - Non-recursive</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 100vh;
            background-color: #f4f4f4;
        }

        #arrayContainer {
            display: flex;
            justify-content: center;
            align-items: flex-end;
            height: 200px;
        }

        .bar {
            width: 30px;
            margin: 0 5px;
            background-color: steelblue;
            text-align: center;
            color: white;
        }
    </style>
</head>
<body>

<h2>Bubble Sort Visualization - Non-recursive</h2>
<button onclick="bubbleSort()">Sort Array</button>
<div id="arrayContainer"></div>

<script>
    // Initial array
    let array = [35, 20, 15, 50, 40, 10];

    // Function to render the array
    function renderArray(arr) {
        const container = document.getElementById("arrayContainer");
        container.innerHTML = '';
        arr.forEach(value => {
            const bar = document.createElement('div');
            bar.classList.add('bar');
            bar.style.height = `${value * 3}px`;
            bar.innerHTML = value;
            container.appendChild(bar);
        });
    }

    // Bubble Sort Algorithm (Non-Recursive)
    function bubbleSort() {
        let len = array.length;
        let sorted = false;
        
        const bubbleSortStep = (i = 0) => {
            if (i >= len - 1 || sorted) {
                return;
            }

            sorted = true;
            for (let j = 0; j < len - i - 1; j++) {
                if (array[j] > array[j + 1]) {
                    let temp = array[j];
                    array[j] = array[j + 1];
                    array[j + 1] = temp;
                    sorted = false;
                }
            }
            renderArray(array);
            setTimeout(() => bubbleSortStep(i + 1), 500);
        };
        
        bubbleSortStep();
    }

    // Initial rendering of the array
    renderArray(array);
</script>

</body>
</html>
